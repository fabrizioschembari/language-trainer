
<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="manifest" href="manifest.json" />
  <link rel="stylesheet" href="style.css" />
  <title>Language Trainer</title>
</head>
<body>
  <header class="app-header">
    <div class="app-shell app-title">
      <div class="logo-dot"></div>
      <div class="app-title-text">
        <div class="app-title-main" id="txtAppTitle">Language Trainer</div>
        <div class="app-title-sub" id="txtAppSubtitle">I tuoi dizionari personali</div>
      </div>
    </div>
    <div class="ref-lang-pill" id="refLangButton">
      <span class="flag" id="refLangFlag">ðŸ‡®ðŸ‡¹</span>
      <span class="name" id="refLangName">Italiano</span>
      <button aria-label="Cambia lingua di riferimento">
        <svg viewBox="0 0 20 20" fill="currentColor">
          <path fill-rule="evenodd" d="M5.23 7.21a.75.75 0 011.06.02L10 11.293l3.71-4.06a.75.75 0 111.1 1.02l-4.25 4.66a.75.75 0 01-1.1 0l-4.25-4.66a.75.75 0 01.02-1.06z" clip-rule="evenodd"/>
        </svg>
      </button>
    </div>
  </header>

  <main>
    <section class="hero app-shell">
      <div class="hero-title" id="txtHeroTitle">Crea il tuo spazio di studio</div>
      <div class="hero-sub" id="txtHeroSub">
        Imposta la lingua madre, aggiungi una lingua da imparare e costruisci il tuo vocabolario personale, ordinato e bidirezionale.
      </div>
      <div class="actions">
        <button class="btn btn-primary" id="btnAddWord">
          <svg viewBox="0 0 20 20" fill="currentColor">
            <path d="M10 4a.75.75 0 01.75.75V9.25h4.5a.75.75 0 010 1.5h-4.5v4.5a.75.75 0 01-1.5 0v-4.5H4.25a.75.75 0 010-1.5h4.5V4.75A.75.75 0 0110 4z"/>
          </svg>
          <span id="txtBtnAddWord">Aggiungi parola</span>
        </button>
        <button class="btn btn-secondary" id="btnAddLanguage">
          <svg viewBox="0 0 20 20" fill="currentColor">
            <path d="M4 4.75A.75.75 0 014.75 4h10.5a.75.75 0 010 1.5H4.75A.75.75 0 014 4.75zM4 8a.75.75 0 01.75-.75h6.5a.75.75 0 010 1.5h-6.5A.75.75 0 014 8zm0 3.25A.75.75 0 014.75 10.5h4.5a.75.75 0 010 1.5h-4.5A.75.75 0 014 11.25zm0 3.25A.75.75 0 014.75 13.75h2.5a.75.75 0 010 1.5h-2.5A.75.75 0 014 15.5z"/>
            <path d="M14.75 9a.75.75 0 01.75.75v1.5h1.5a.75.75 0 010 1.5h-1.5v1.5a.75.75 0 01-1.5 0v-1.5h-1.5a.75.75 0 010-1.5h1.5v-1.5A.75.75 0 0114.75 9z"/>
          </svg>
          <span id="txtBtnAddLang">Aggiungi nuova lingua</span>
        </button>
      </div>
    </section>

    <section class="app-shell">
      <div class="section-label" id="txtSectionStudied">Lingue in studio</div>
      <div id="dictList" class="dict-list"></div>
      <div id="emptyState" class="empty-state" style="display:none">
        Nessuna lingua aggiunta ancora. Premi "Aggiungi nuova lingua" per creare il tuo primo dizionario.
      </div>
    </section>
  <div id="dictView" style="display:none;"></div></main>

  <!-- Sheet: cambia lingua di riferimento -->
  <div class="backdrop hidden" id="refLangSheet">
    <div class="sheet">
      <div class="sheet-handle"></div>
      <div class="sheet-title" id="txtRefLangTitle">Lingua di riferimento</div>
      <div class="sheet-sub" id="txtRefLangSub">
        Scegli la tua lingua madre. Tutti i dizionari useranno questa lingua come base.
      </div>
      <div id="refLangOptions"></div>
      <div class="sheet-actions">
        <button class="btn-ghost" id="btnCancelRefLang">Annulla</button>
      </div>
    </div>
  </div>

  <!-- Sheet: nuova lingua -->
  <div class="backdrop hidden" id="newLangSheet">
    <div class="sheet">
      <div class="sheet-handle"></div>
      <div class="sheet-title" id="txtNewLangTitle">Nuova lingua da imparare</div>
      <div class="sheet-sub" id="txtNewLangSub">
        Ogni lingua crea un dizionario dedicato con la tua lingua madre.
      </div>
      <div class="field-label" id="txtLabelLangToLearn">Lingua da imparare</div>
      <select id="newLangSelect"></select>
      <div class="sheet-actions">
        <button class="btn-ghost" id="btnCancelNewLang">Annulla</button>
        <button class="btn-fill" id="btnConfirmNewLang">Crea dizionario</button>
      </div>
    </div>
  </div>

  <!-- Sheet: aggiungi parola da home -->
  <div class="backdrop hidden" id="addWordSheet">
    <div class="sheet">
      <div class="sheet-handle"></div>
      <div class="sheet-title" id="txtAddWordTitle">Aggiungi nuova parola</div>
      <div class="sheet-sub" id="txtAddWordSub">
        Seleziona una lingua in cui stai studiando e aggiungi una coppia di termini.
      </div>

      <div class="field-label" id="txtLabelSelectDict">Seleziona dizionario</div>
      <select id="dictSelectForWord"></select>

      <div class="direction-row">
        <div class="direction-part" id="dirHomeLeft">
          <span class="dir-flag-small" id="dirHomeLeftFlag">ðŸ‡¯ðŸ‡µ</span>
          <span class="dir-name-small" id="dirHomeLeftName">Giapponese</span>
        </div>
        <button class="dir-swap-btn" id="btnSwapHomeDir" aria-label="Inverti direzione">
          <svg viewBox="0 0 20 20" fill="currentColor" width="14" height="14">
            <path d="M4.5 5.75A.75.75 0 015.25 5h7a.75.75 0 010 1.5H6.56l1.97 1.97a.75.75 0 01-1.06 1.06l-3.25-3.25A.75.75 0 014.5 5.75zm11 8.5a.75.75 0 01-.75.75h-7a.75.75 0 010-1.5h5.69l-1.97-1.97a.75.75 0 011.06-1.06l3.25 3.25c.3.3.3.79 0 1.08z"/>
          </svg>
        </button>
        <div class="direction-part" id="dirHomeRight">
          <span class="dir-flag-small" id="dirHomeRightFlag">ðŸ‡®ðŸ‡¹</span>
          <span class="dir-name-small" id="dirHomeRightName">Italiano</span>
        </div>
      </div>

      <div class="field-label" id="labelHomeFrom">Da</div>
      <input type="text" id="srcTermHome" placeholder="Termine sorgente">
      <div class="field-label" id="labelHomeTo">A</div>
      <input type="text" id="dstTermHome" placeholder="Traduzione">

      <div class="sheet-actions">
        <button class="btn-ghost" id="btnCancelAddWord">Annulla</button>
        <button class="btn-fill" id="btnConfirmAddWord">Salva parola</button>
      </div>
    </div>
  </div>

  <script src="home.js"></script>
  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('service-worker.js');
    }
  </script>
</body>
</html>
